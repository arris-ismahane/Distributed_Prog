<!-- Spinner -->
<p-progressSpinner
  *ngIf="isLoading"
  styleClass="custom-spinner"
></p-progressSpinner>

<!-- Error message -->
<p-message
  *ngIf="!isLoading && error"
  severity="warn"
  text="{{ error }}"
></p-message>

<!-- Jewelry details -->
<div *ngIf="!isLoading && jewelry" class="flex justify-content-center mt-5">
  <div
    class="surface-card p-4 shadow-2 border-round flex flex-column md:flex-row gap-6 w-full md:w-10 lg:w-8"
  >
    <!-- Left: Image -->
    <div class="w-full md:w-6">
      <p-image
        [src]="getImageSrc(jewelry.images[0])"
        alt="{{ jewelry.name }}"
        preview
        styleClass="w-full border-round"
        [imageStyle]="{ cursor: 'zoom-in' }"
      />
    </div>

    <!-- Right: Info -->
    <div class="w-full md:w-6 flex flex-column justify-between gap-3">
      <div>
        <p-tag
          value="{{ jewelry.category.name }}"
          severity="success"
          class="mb-2"
        ></p-tag>
        <h2 class="text-3xl font-bold mb-2">{{ jewelry.name }}</h2>
        <p class="text-xl text-green-600 font-semibold mb-3">
          ${{ jewelry.price }}
        </p>
        <p class="text-color-secondary mb-3">{{ jewelry.description }}</p>
      </div>

      <div>
        <strong class="block mb-1">Materials:</strong>
        <div class="flex flex-wrap gap-2">
          <p-tag
            *ngFor="let material of jewelry.materials"
            [value]="material"
            severity="info"
          ></p-tag>
        </div>
      </div>

      <div class="mt-4">
        <button
          pButton
          label="Go Back"
          icon="pi pi-arrow-left"
          class="p-button-secondary"
          (click)="goBack()"
        ></button>
      </div>
    </div>
  </div>
</div>
