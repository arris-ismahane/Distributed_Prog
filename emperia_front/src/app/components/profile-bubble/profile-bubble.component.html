<!-- profile-bubble.component.html -->
<div class="relative" style="display: inline-block">
  <!-- Avatar Button -->
  <button
    type="button"
    pButton
    class="p-button-rounded p-button-text"
    (click)="toggleMenu()"
    pTooltip="{{ user.firstName }} {{ user.lastName }} ({{ user.username }})"
    tooltipPosition="bottom"
  >
    <p-avatar
      label="{{ user.firstName.charAt(0) + user.lastName.charAt(0) }}"
      size="large"
      shape="circle"
    ></p-avatar>
  </button>

  <!-- Dropdown Menu -->
  <div
    *ngIf="showMenu"
    class="absolute z-5 surface-overlay shadow-3 border-round p-3"
    style="right: 0; width: 330px"
  >
    <div class="mb-3">
      <p class="text-sm text-color-secondary mb-1">Signed in as</p>
      <p class="font-semibold">{{ user.firstName }} {{ user.lastName }}</p>
      <p class="text-sm text-color-secondary">{{ user.username }}</p>
      <p class="text-xs text-color-secondary mt-1">
        Birthdate: {{ user.birthdate | date : "mediumDate" }}
      </p>
    </div>
    <button
      pButton
      type="button"
      label="Logout"
      icon="pi pi-sign-out"
      class="p-button-sm p-button-danger w-full"
      (click)="logout()"
    ></button>
  </div>
</div>
